<template>
    <div class="container mx-auto bg-white p-0">
        <MainLayoutVue>
            <section class="contact-section">
                <div class="container">
                    <div>
                        <ul class="section-link">
                            <li>Home</li>
                            <li>/</li>
                            <li class="active">Contact us</li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="contact-left-items">
                                <ul>
                                    <li>
                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_74_346)">
                                                <path
                                                    d="M12.1641 10.5843C11.6414 10.0683 10.9888 10.0683 10.4694 10.5843C10.0732 10.9772 9.67699 11.3701 9.28744 11.7696C9.1809 11.8795 9.091 11.9028 8.96115 11.8295C8.70479 11.6897 8.43177 11.5765 8.18539 11.4233C7.03673 10.7009 6.07452 9.77194 5.22218 8.7265C4.79934 8.2071 4.42311 7.65108 4.16009 7.02515C4.10682 6.89863 4.11681 6.81539 4.22002 6.71218C4.61622 6.32929 5.00244 5.93642 5.39198 5.54354C5.93468 4.99751 5.93468 4.35826 5.38866 3.8089C5.07902 3.49593 4.76938 3.18962 4.45974 2.87665C4.14011 2.55703 3.82381 2.23407 3.50086 1.91777C2.97813 1.40837 2.32556 1.40837 1.80617 1.9211C1.40663 2.31398 1.02375 2.71684 0.617555 3.10306C0.241327 3.45931 0.0515486 3.89546 0.0115952 4.40487C-0.0516643 5.2339 0.151432 6.01632 0.437765 6.77877C1.02375 8.35693 1.91604 9.75863 2.99811 11.0438C4.45974 12.7818 6.20437 14.1568 8.24532 15.149C9.16425 15.5951 10.1165 15.9381 11.1519 15.9947C11.8644 16.0346 12.4837 15.8548 12.9798 15.2988C13.3194 14.9193 13.7023 14.573 14.0619 14.2101C14.5946 13.6707 14.5979 13.0182 14.0685 12.4854C13.4359 11.8495 12.8 11.2169 12.1641 10.5843Z"
                                                    fill="#996B4B" />
                                                <path
                                                    d="M11.5283 7.93077L12.7569 7.72101C12.5638 6.59233 12.0311 5.57019 11.222 4.7578C10.3663 3.90213 9.28426 3.36276 8.09232 3.19629L7.91919 4.43151C8.84145 4.56136 9.68047 4.97754 10.343 5.6401C10.969 6.26604 11.3785 7.05845 11.5283 7.93077Z"
                                                    fill="#996B4B" />
                                                <path
                                                    d="M13.4493 2.59031C12.031 1.17197 10.2364 0.276344 8.25541 0L8.08228 1.23523C9.79361 1.47495 11.3451 2.25071 12.5704 3.47262C13.7323 4.63459 14.4948 6.10288 14.7711 7.71766L15.9997 7.50791C15.6767 5.63676 14.7944 3.93874 13.4493 2.59031Z"
                                                    fill="#996B4B" />
                                            </g>
                                            <defs>
                                                <clipPath id="clip0_74_346">
                                                    <rect width="16" height="16" fill="white" />
                                                </clipPath>
                                            </defs>
                                        </svg>
                                        <span>+33 7 53 37 62 34</span>
                                    </li>
                                    <li>
                                        <svg width="18" height="12" viewBox="0 0 18 12" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M0.822066 0.895655C1.29802 1.14661 7.90942 4.75087 8.15605 4.88067C8.40268 5.01048 8.65364 5.07105 9.04305 5.07105C9.43247 5.07105 9.68342 5.01048 9.93005 4.88067C10.1767 4.75087 16.7881 1.14661 17.264 0.895655C17.4414 0.804791 17.74 0.640372 17.8049 0.454318C17.9174 0.125478 17.7962 0 17.316 0H9.04305H0.770144C0.289865 0 0.168714 0.129805 0.281212 0.454318C0.346114 0.644698 0.644666 0.804791 0.822066 0.895655Z"
                                                fill="#996B4B" />
                                            <path
                                                d="M17.6405 1.09036C17.2857 1.27209 14.1012 3.53935 11.994 4.90231L15.5506 8.90463C15.6372 8.99116 15.6761 9.09501 15.6285 9.14693C15.5766 9.19453 15.4641 9.16856 15.3732 9.08636L11.107 5.48643C10.4623 5.90181 10.008 6.18738 9.93009 6.23064C9.59692 6.39939 9.36327 6.42102 9.04309 6.42102C8.7229 6.42102 8.48925 6.39939 8.15608 6.23064C8.07387 6.18738 7.62388 5.90181 6.97918 5.48643L2.71293 9.08636C2.62639 9.17289 2.50956 9.19885 2.45764 9.14693C2.40572 9.09934 2.44466 8.99116 2.5312 8.90463L6.08353 4.90231C3.97636 3.53935 0.757196 1.27209 0.402396 1.09036C0.0216341 0.895657 0 1.12498 0 1.30238C0 1.47978 0 10.1724 0 10.1724C0 10.5748 0.592776 11.0767 1.01681 11.0767H9.04309H17.0694C17.4934 11.0767 17.9996 10.5705 17.9996 10.1724C17.9996 10.1724 17.9996 1.47545 17.9996 1.30238C17.9996 1.12065 18.0256 0.895657 17.6405 1.09036Z"
                                                fill="#996B4B" />
                                        </svg>
                                        <span>invest@housing.gov.om</span>
                                    </li>
                                    <li>
                                        <svg width="22" height="22" viewBox="0 0 22 22" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_74_337)">
                                                <path
                                                    d="M11 0C6.83018 0 3.43774 3.39244 3.43774 7.56229V7.59101C3.43774 9.08574 3.83861 10.5567 4.597 11.8446L10.3892 21.6819C10.5048 21.8783 10.7155 21.9992 10.9434 22H10.9457C11.1727 22 11.3833 21.8807 11.4999 21.6857L17.3735 11.8657C18.1513 10.5655 18.5623 9.07738 18.5623 7.56229C18.5623 3.39244 15.1699 0 11 0ZM10.9457 10.9524C9.15033 10.9524 7.69491 9.49694 7.69491 7.70157C7.69491 5.9062 9.15033 4.45078 10.9457 4.45078C12.7411 4.45078 14.1965 5.9062 14.1965 7.70157C14.1965 9.4969 12.7411 10.9524 10.9457 10.9524Z"
                                                    fill="#996B4B" />
                                            </g>
                                            <defs>
                                                <clipPath id="clip0_74_337">
                                                    <rect width="22" height="22" fill="white" />
                                                </clipPath>
                                            </defs>
                                        </svg>
                                        <span><strong>Ministry of Housing & <br />Â  Urban Planning, Oman <br /></strong>
                                            Muscat, Sultanate of Oman</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="contact-right-items">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="inputFrom">
                                            <label for="firstName">First Name</label>
                                            <input type="text" v-model="formData.firstName"
                                                placeholder="Enter first name" @input="clearError('firstName')" />
                                            <p class="error-message">{{ errors.firstName }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="inputFrom">
                                            <label for="lastName">Last Name</label>
                                            <input type="text" v-model="formData.lastName" placeholder="Enter last name"
                                                @input="clearError('lastName')" />
                                            <p class="error-message">{{ errors.lastName }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="inputFrom">
                                            <label for="email">Email</label>
                                            <input type="email" v-model="formData.email" @input="clearError('email')"
                                                placeholder="Enter email address" />
                                            <p class="error-message">{{ errors.email }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="inputFrom">
                                            <label for="phoneCode">Phone </label>
                                            <input type="text" v-model="formData.phoneCode"
                                                placeholder="Enter phone number" @input="clearError('phoneCode')" />
                                            <p class="error-message">{{ errors.phoneCode }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="">
                                            <label for="country" id="country">Country code</label>
                                            <v-select v-model="formData.countryCode" :options="countries"
                                                placeholder="Country code" label="name"></v-select>
                                            <p class="error-message">{{ errors.countryCode }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="inputFrom">
                                            <label for="message">Message</label>
                                            <textarea v-model="formData.message" rows="8" cols="4" class="p-2"
                                                placeholder="Write  message" @input="clearError('message')"></textarea>
                                            <p class="error-message">{{ errors.message }}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="inputFrom">
                                            <!-- <button @click="submitForm">Send</button> -->
                                            <input type="hidden" v-model="formData.is_reply" />
                                            <input type="hidden" v-model="formData.message_reply" />
                                            <input type="hidden" v-model="formData.status" />
                                            <button @click="submitForm"
                                                class="flex items-center justify-center gap-1">Send
                                                <svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" wodth="30"
                                                    v-if="isLoading" height="30"
                                                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                    viewBox="0 0 100 100" enable-background="new 0 0 0 0"
                                                    xml:space="preserve">
                                                    <path fill="#fff"
                                                        d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
                                                        <animateTransform attributeName="transform" attributeType="XML"
                                                            type="rotate" dur="1s" from="0 50 50" to="360 50 50"
                                                            repeatCount="indefinite" />
                                                    </path>
                                                </svg>
                                            </button>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </MainLayoutVue>
    </div>


</template>

<script>

import MainLayoutVue from '../Layouts/MainLayout.vue';
import vSelect from "vue-select";
import "vue-select/dist/vue-select.css";
export default {
    components: {

        MainLayoutVue,
        vSelect
    },
    data() {
        return {
            formData: {
                firstName: '',
                lastName: '',
                email: '',
                phoneCode: '',
                countryCode: '',
                message: '',

                is_reply: false,
                message_reply: '',
                status: ''
            },
            errors: {},
            isLoading: false,
            countries: [
                {
                    "code": "+7 840",
                    "name": "Abkhazia"
                },
                {
                    "code": "+93",
                    "name": "Afghanistan"
                },
                {
                    "code": "+355",
                    "name": "Albania"
                },
                {
                    "code": "+213",
                    "name": "Algeria"
                },
                {
                    "code": "+1 684",
                    "name": "American Samoa"
                },
                {
                    "code": "+376",
                    "name": "Andorra"
                },
                {
                    "code": "+244",
                    "name": "Angola"
                },
                {
                    "code": "+1 264",
                    "name": "Anguilla"
                },
                {
                    "code": "+1 268",
                    "name": "Antigua and Barbuda"
                },
                {
                    "code": "+54",
                    "name": "Argentina"
                },
                {
                    "code": "+374",
                    "name": "Armenia"
                },
                {
                    "code": "+297",
                    "name": "Aruba"
                },
                {
                    "code": "+247",
                    "name": "Ascension"
                },
                {
                    "code": "+61",
                    "name": "Australia"
                },
                {
                    "code": "+672",
                    "name": "Australian External Territories"
                },
                {
                    "code": "+43",
                    "name": "Austria"
                },
                {
                    "code": "+994",
                    "name": "Azerbaijan"
                },
                {
                    "code": "+1 242",
                    "name": "Bahamas"
                },
                {
                    "code": "+973",
                    "name": "Bahrain"
                },
                {
                    "code": "+880",
                    "name": "Bangladesh"
                },
                {
                    "code": "+1 246",
                    "name": "Barbados"
                },
                {
                    "code": "+1 268",
                    "name": "Barbuda"
                },
                {
                    "code": "+375",
                    "name": "Belarus"
                },
                {
                    "code": "+32",
                    "name": "Belgium"
                },
                {
                    "code": "+501",
                    "name": "Belize"
                },
                {
                    "code": "+229",
                    "name": "Benin"
                },
                {
                    "code": "+1 441",
                    "name": "Bermuda"
                },
                {
                    "code": "+975",
                    "name": "Bhutan"
                },
                {
                    "code": "+591",
                    "name": "Bolivia"
                },
                {
                    "code": "+387",
                    "name": "Bosnia and Herzegovina"
                },
                {
                    "code": "+267",
                    "name": "Botswana"
                },
                {
                    "code": "+55",
                    "name": "Brazil"
                },
                {
                    "code": "+246",
                    "name": "British Indian Ocean Territory"
                },
                {
                    "code": "+1 284",
                    "name": "British Virgin Islands"
                },
                {
                    "code": "+673",
                    "name": "Brunei"
                },
                {
                    "code": "+359",
                    "name": "Bulgaria"
                },
                {
                    "code": "+226",
                    "name": "Burkina Faso"
                },
                {
                    "code": "+257",
                    "name": "Burundi"
                },
                {
                    "code": "+855",
                    "name": "Cambodia"
                },
                {
                    "code": "+237",
                    "name": "Cameroon"
                },
                {
                    "code": "+1",
                    "name": "Canada"
                },
                {
                    "code": "+238",
                    "name": "Cape Verde"
                },
                {
                    "code": "+ 345",
                    "name": "Cayman Islands"
                },
                {
                    "code": "+236",
                    "name": "Central African Republic"
                },
                {
                    "code": "+235",
                    "name": "Chad"
                },
                {
                    "code": "+56",
                    "name": "Chile"
                },
                {
                    "code": "+86",
                    "name": "China"
                },
                {
                    "code": "+61",
                    "name": "Christmas Island"
                },
                {
                    "code": "+61",
                    "name": "Cocos-Keeling Islands"
                },
                {
                    "code": "+57",
                    "name": "Colombia"
                },
                {
                    "code": "+269",
                    "name": "Comoros"
                },
                {
                    "code": "+242",
                    "name": "Congo"
                },
                {
                    "code": "+243",
                    "name": "Congo, Dem. Rep. of (Zaire)"
                },
                {
                    "code": "+682",
                    "name": "Cook Islands"
                },
                {
                    "code": "+506",
                    "name": "Costa Rica"
                },
                {
                    "code": "+385",
                    "name": "Croatia"
                },
                {
                    "code": "+53",
                    "name": "Cuba"
                },
                {
                    "code": "+599",
                    "name": "Curacao"
                },
                {
                    "code": "+537",
                    "name": "Cyprus"
                },
                {
                    "code": "+420",
                    "name": "Czech Republic"
                },
                {
                    "code": "+45",
                    "name": "Denmark"
                },
                {
                    "code": "+246",
                    "name": "Diego Garcia"
                },
                {
                    "code": "+253",
                    "name": "Djibouti"
                },
                {
                    "code": "+1 767",
                    "name": "Dominica"
                },
                {
                    "code": "+1 809",
                    "name": "Dominican Republic"
                },
                {
                    "code": "+670",
                    "name": "East Timor"
                },
                {
                    "code": "+56",
                    "name": "Easter Island"
                },
                {
                    "code": "+593",
                    "name": "Ecuador"
                },
                {
                    "code": "+20",
                    "name": "Egypt"
                },
                {
                    "code": "+503",
                    "name": "El Salvador"
                },
                {
                    "code": "+240",
                    "name": "Equatorial Guinea"
                },
                {
                    "code": "+291",
                    "name": "Eritrea"
                },
                {
                    "code": "+372",
                    "name": "Estonia"
                },
                {
                    "code": "+251",
                    "name": "Ethiopia"
                },
                {
                    "code": "+500",
                    "name": "Falkland Islands"
                },
                {
                    "code": "+298",
                    "name": "Faroe Islands"
                },
                {
                    "code": "+679",
                    "name": "Fiji"
                },
                {
                    "code": "+358",
                    "name": "Finland"
                },
                {
                    "code": "+33",
                    "name": "France"
                },
                {
                    "code": "+596",
                    "name": "French Antilles"
                },
                {
                    "code": "+594",
                    "name": "French Guiana"
                },
                {
                    "code": "+689",
                    "name": "French Polynesia"
                },
                {
                    "code": "+241",
                    "name": "Gabon"
                },
                {
                    "code": "+220",
                    "name": "Gambia"
                },
                {
                    "code": "+995",
                    "name": "Georgia"
                },
                {
                    "code": "+49",
                    "name": "Germany"
                },
                {
                    "code": "+233",
                    "name": "Ghana"
                },
                {
                    "code": "+350",
                    "name": "Gibraltar"
                },
                {
                    "code": "+30",
                    "name": "Greece"
                },
                {
                    "code": "+299",
                    "name": "Greenland"
                },
                {
                    "code": "+1 473",
                    "name": "Grenada"
                },
                {
                    "code": "+590",
                    "name": "Guadeloupe"
                },
                {
                    "code": "+1 671",
                    "name": "Guam"
                },
                {
                    "code": "+502",
                    "name": "Guatemala"
                },
                {
                    "code": "+224",
                    "name": "Guinea"
                },
                {
                    "code": "+245",
                    "name": "Guinea-Bissau"
                },
                {
                    "code": "+595",
                    "name": "Guyana"
                },
                {
                    "code": "+509",
                    "name": "Haiti"
                },
                {
                    "code": "+504",
                    "name": "Honduras"
                },
                {
                    "code": "+852",
                    "name": "Hong Kong SAR China"
                },
                {
                    "code": "+36",
                    "name": "Hungary"
                },
                {
                    "code": "+354",
                    "name": "Iceland"
                },
                {
                    "code": "+91",
                    "name": "India"
                },
                {
                    "code": "+62",
                    "name": "Indonesia"
                },
                {
                    "code": "+98",
                    "name": "Iran"
                },
                {
                    "code": "+964",
                    "name": "Iraq"
                },
                {
                    "code": "+353",
                    "name": "Ireland"
                },
                {
                    "code": "+39",
                    "name": "Italy"
                },
                {
                    "code": "+225",
                    "name": "Ivory Coast"
                },
                {
                    "code": "+1 876",
                    "name": "Jamaica"
                },
                {
                    "code": "+81",
                    "name": "Japan"
                },
                {
                    "code": "+962",
                    "name": "Jordan"
                },
                {
                    "code": "+7 7",
                    "name": "Kazakhstan"
                },
                {
                    "code": "+254",
                    "name": "Kenya"
                },
                {
                    "code": "+686",
                    "name": "Kiribati"
                },
                {
                    "code": "+965",
                    "name": "Kuwait"
                },
                {
                    "code": "+996",
                    "name": "Kyrgyzstan"
                },
                {
                    "code": "+856",
                    "name": "Laos"
                },
                {
                    "code": "+371",
                    "name": "Latvia"
                },
                {
                    "code": "+961",
                    "name": "Lebanon"
                },
                {
                    "code": "+266",
                    "name": "Lesotho"
                },
                {
                    "code": "+231",
                    "name": "Liberia"
                },
                {
                    "code": "+218",
                    "name": "Libya"
                },
                {
                    "code": "+423",
                    "name": "Liechtenstein"
                },
                {
                    "code": "+370",
                    "name": "Lithuania"
                },
                {
                    "code": "+352",
                    "name": "Luxembourg"
                },
                {
                    "code": "+853",
                    "name": "Macau SAR China"
                },
                {
                    "code": "+389",
                    "name": "Macedonia"
                },
                {
                    "code": "+261",
                    "name": "Madagascar"
                },
                {
                    "code": "+265",
                    "name": "Malawi"
                },
                {
                    "code": "+60",
                    "name": "Malaysia"
                },
                {
                    "code": "+960",
                    "name": "Maldives"
                },
                {
                    "code": "+223",
                    "name": "Mali"
                },
                {
                    "code": "+356",
                    "name": "Malta"
                },
                {
                    "code": "+692",
                    "name": "Marshall Islands"
                },
                {
                    "code": "+596",
                    "name": "Martinique"
                },
                {
                    "code": "+222",
                    "name": "Mauritania"
                },
                {
                    "code": "+230",
                    "name": "Mauritius"
                },
                {
                    "code": "+262",
                    "name": "Mayotte"
                },
                {
                    "code": "+52",
                    "name": "Mexico"
                },
                {
                    "code": "+691",
                    "name": "Micronesia"
                },
                {
                    "code": "+1 808",
                    "name": "Midway Island"
                },
                {
                    "code": "+373",
                    "name": "Moldova"
                },
                {
                    "code": "+377",
                    "name": "Monaco"
                },
                {
                    "code": "+976",
                    "name": "Mongolia"
                },
                {
                    "code": "+382",
                    "name": "Montenegro"
                },
                {
                    "code": "+1664",
                    "name": "Montserrat"
                },
                {
                    "code": "+212",
                    "name": "Morocco"
                },
                {
                    "code": "+95",
                    "name": "Myanmar"
                },
                {
                    "code": "+264",
                    "name": "Namibia"
                },
                {
                    "code": "+674",
                    "name": "Nauru"
                },
                {
                    "code": "+977",
                    "name": "Nepal"
                },
                {
                    "code": "+31",
                    "name": "Netherlands"
                },
                {
                    "code": "+599",
                    "name": "Netherlands Antilles"
                },
                {
                    "code": "+1 869",
                    "name": "Nevis"
                },
                {
                    "code": "+687",
                    "name": "New Caledonia"
                },
                {
                    "code": "+64",
                    "name": "New Zealand"
                },
                {
                    "code": "+505",
                    "name": "Nicaragua"
                },
                {
                    "code": "+227",
                    "name": "Niger"
                },
                {
                    "code": "+234",
                    "name": "Nigeria"
                },
                {
                    "code": "+683",
                    "name": "Niue"
                },
                {
                    "code": "+672",
                    "name": "Norfolk Island"
                },
                {
                    "code": "+850",
                    "name": "North Korea"
                },
                {
                    "code": "+1 670",
                    "name": "Northern Mariana Islands"
                },
                {
                    "code": "+47",
                    "name": "Norway"
                },
                {
                    "code": "+968",
                    "name": "Oman"
                },
                {
                    "code": "+92",
                    "name": "Pakistan"
                },
                {
                    "code": "+680",
                    "name": "Palau"
                },
                {
                    "code": "+970",
                    "name": "Palestinian Territory"
                },
                {
                    "code": "+507",
                    "name": "Panama"
                },
                {
                    "code": "+675",
                    "name": "Papua New Guinea"
                },
                {
                    "code": "+595",
                    "name": "Paraguay"
                },
                {
                    "code": "+51",
                    "name": "Peru"
                },
                {
                    "code": "+63",
                    "name": "Philippines"
                },
                {
                    "code": "+48",
                    "name": "Poland"
                },
                {
                    "code": "+351",
                    "name": "Portugal"
                },
                {
                    "code": "+1 787",
                    "name": "Puerto Rico"
                },
                {
                    "code": "+974",
                    "name": "Qatar"
                },
                {
                    "code": "+262",
                    "name": "Reunion"
                },
                {
                    "code": "+40",
                    "name": "Romania"
                },
                {
                    "code": "+7",
                    "name": "Russia"
                },
                {
                    "code": "+250",
                    "name": "Rwanda"
                },
                {
                    "code": "+685",
                    "name": "Samoa"
                },
                {
                    "code": "+378",
                    "name": "San Marino"
                },
                {
                    "code": "+966",
                    "name": "Saudi Arabia"
                },
                {
                    "code": "+221",
                    "name": "Senegal"
                },
                {
                    "code": "+381",
                    "name": "Serbia"
                },
                {
                    "code": "+248",
                    "name": "Seychelles"
                },
                {
                    "code": "+232",
                    "name": "Sierra Leone"
                },
                {
                    "code": "+65",
                    "name": "Singapore"
                },
                {
                    "code": "+421",
                    "name": "Slovakia"
                },
                {
                    "code": "+386",
                    "name": "Slovenia"
                },
                {
                    "code": "+677",
                    "name": "Solomon Islands"
                },
                {
                    "code": "+27",
                    "name": "South Africa"
                },
                {
                    "code": "+500",
                    "name": "South Georgia and the South Sandwich Islands"
                },
                {
                    "code": "+82",
                    "name": "South Korea"
                },
                {
                    "code": "+34",
                    "name": "Spain"
                },
                {
                    "code": "+94",
                    "name": "Sri Lanka"
                },
                {
                    "code": "+249",
                    "name": "Sudan"
                },
                {
                    "code": "+597",
                    "name": "Suriname"
                },
                {
                    "code": "+268",
                    "name": "Swaziland"
                },
                {
                    "code": "+46",
                    "name": "Sweden"
                },
                {
                    "code": "+41",
                    "name": "Switzerland"
                },
                {
                    "code": "+963",
                    "name": "Syria"
                },
                {
                    "code": "+886",
                    "name": "Taiwan"
                },
                {
                    "code": "+992",
                    "name": "Tajikistan"
                },
                {
                    "code": "+255",
                    "name": "Tanzania"
                },
                {
                    "code": "+66",
                    "name": "Thailand"
                },
                {
                    "code": "+670",
                    "name": "Timor Leste"
                },
                {
                    "code": "+228",
                    "name": "Togo"
                },
                {
                    "code": "+690",
                    "name": "Tokelau"
                },
                {
                    "code": "+676",
                    "name": "Tonga"
                },
                {
                    "code": "+1 868",
                    "name": "Trinidad and Tobago"
                },
                {
                    "code": "+216",
                    "name": "Tunisia"
                },
                {
                    "code": "+90",
                    "name": "Turkey"
                },
                {
                    "code": "+993",
                    "name": "Turkmenistan"
                },
                {
                    "code": "+1 649",
                    "name": "Turks and Caicos Islands"
                },
                {
                    "code": "+688",
                    "name": "Tuvalu"
                },
                {
                    "code": "+1 340",
                    "name": "U.S. Virgin Islands"
                },
                {
                    "code": "+256",
                    "name": "Uganda"
                },
                {
                    "code": "+380",
                    "name": "Ukraine"
                },
                {
                    "code": "+971",
                    "name": "United Arab Emirates"
                },
                {
                    "code": "+44",
                    "name": "United Kingdom"
                },
                {
                    "code": "+1",
                    "name": "United States"
                },
                {
                    "code": "+598",
                    "name": "Uruguay"
                },
                {
                    "code": "+998",
                    "name": "Uzbekistan"
                },
                {
                    "code": "+678",
                    "name": "Vanuatu"
                },
                {
                    "code": "+58",
                    "name": "Venezuela"
                },
                {
                    "code": "+84",
                    "name": "Vietnam"
                },
                {
                    "code": "+1 808",
                    "name": "Wake Island"
                },
                {
                    "code": "+681",
                    "name": "Wallis and Futuna"
                },
                {
                    "code": "+967",
                    "name": "Yemen"
                },
                {
                    "code": "+260",
                    "name": "Zambia"
                },
                {
                    "code": "+255",
                    "name": "Zanzibar"
                },
                {
                    "code": "+263",
                    "name": "Zimbabwe"
                }
            ]
        };
    },
    methods: {
        clearError(field) {
            this.errors[field] = '';
        },
        submitForm() {
            this.errors = {}; // Clear previous errors
            const requiredFields = ['firstName', 'lastName', 'email', 'phoneCode', 'countryCode', 'message'];
            // Regular expression for email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            requiredFields.forEach(field => {
                if (!this.formData[field]) {
                    this.errors[field] = `${field.charAt(0).toUpperCase() + field.slice(1)} is required.`;

                }
            });
            if (this.formData.email && !emailRegex.test(this.formData.email)) {
                this.errors.email = 'Please enter a valid email address.';
            }
            if (Object.keys(this.errors).length === 0) {
                // Form is valid, submit data
                this.submitData();
            }
        },
        async submitData() {
            this.isLoading = true
            this.formData.is_reply = this.formData.is_reply ? 1 : 0;
            let formData = new FormData();
            formData.append('first_name', this.formData.firstName);
            formData.append('last_name', this.formData.lastName);
            formData.append('email', this.formData.email);
            formData.append('phone_code', this.formData.countryCode.code + this.formData.phoneCode);
            formData.append('message', this.formData.message);
            formData.append('is_reply', this.formData.is_reply);
            formData.append('message_reply', this.formData.message_reply);
            formData.append('status', this.formData.status);


            try {
                await axios.post('/api/web/contact-us', formData).then(res => {

                    this.$toasted.success(res.data.message, {
                        theme: "toasted-primary",
                        position: "top-center",
                        duration: 5000
                    });
                    this.formData.firstName = '';
                    this.formData.lastName = '';
                    this.formData.email = '';
                    this.formData.phoneCode = '';
                    this.formData.countryCode = '';
                    this.formData.message = '';
                    this.formData.is_reply = '';
                    this.formData.message_reply = '';
                    this.formData.status = '';
                    this.isLoading = false

                }).catch(err => {
                    this.$toasted.show(err.res.data.message, {
                        theme: "toasted-primary",
                        position: "top-center",
                        duration: 5000
                    });
                }).finally(res => {
                    console.log(res);
                    this.isLoading = false
                })

            } catch (error) {
                // Handle error
                console.error('Error:', error);
                // Optionally, show an error message to the user
            }

        }
    }
}
</script>

<style>
.error-message {
    color: rgb(231, 21, 21);
}

#country {
    display: block;
    font-size: 18px;
    font-weight: 700;
    line-height: 33px;
    color: #9a5626;
    margin-bottom: 5px;
}

.v-select,
.v-select {
    height: 54px;

}

.vs--searchable .vs__dropdown-toggle {
    height: 100%;
    border: 1px solid #9a5626;
    background-color: transparent;
}
</style>
